# Windows测试指南

## 🔧 环境准备

### 1. 安装Python环境
```cmd
# 下载并安装Python 3.8+
# https://www.python.org/downloads/
# 安装时务必勾选 "Add Python to PATH"
```

### 2. 安装Tesseract OCR
```cmd
# 下载Windows版本
# https://github.com/UB-Mannheim/tesseract/wiki
# 选择 tesseract-ocr-w64-setup-v5.x.x.exe
# 安装时选择中文语言包
```

### 3. 快速安装
```cmd
PS D:\BPSR_M_OCR> .\install_windows.bat
```

## 🚀 启动测试

### Web UI版本（推荐）
```cmd
PS D:\BPSR_M_OCR> .\start_webui.bat
```

访问: http://localhost:5000

## 🔍 测试模组详细信息显示

### 预期效果

在组合结果中应该看到：

```
方案 1                                    📊 49 总收益
┌─────────────────────────────────────────────────────┐
│ 模组组合 (4/4):                                    │
│                                                     │
│ ┌─────────────────────────────────────┐             │
│ │ Screenshot 2025-08-19 151408        │             │
│ │ 敏捷加持+8, 暴击专注+5              │             │
│ └─────────────────────────────────────┘             │
│                                                     │
│ ┌─────────────────────────────────────┐             │  
│ │ Screenshot 2025-08-19 151415        │             │
│ │ 敏捷加持+7, 特攻伤害加持+6          │             │
│ └─────────────────────────────────────┘             │
│                                                     │
│ ┌─────────────────────────────────────┐             │
│ │ Screenshot 2025-08-19 151507        │             │  
│ │ 敏捷加持+5, 特攻伤害加持+6, 精英打击+3│             │
│ └─────────────────────────────────────┘             │
│                                                     │
│ ┌─────────────────────────────────────┐             │
│ │ Screenshot 2025-08-19 151516        │             │
│ │ 暴击专注+9                          │             │
│ └─────────────────────────────────────┘             │
│                                                     │
│ 总计属性:                                           │
│ 敏捷加持: 20 (20/20) ⚡                             │
│ 暴击专注: 14 (14/20)                               │
│ 特攻伤害加持: 12 (12/20)                           │
│ 精英打击: 3 (3/20)                                 │
└─────────────────────────────────────────────────────┘
```

### 如果仍显示旧格式

如果还是只显示文件名而没有属性详情，请：

1. **检查浏览器控制台**（F12）:
   ```javascript
   // 应该看到类似的数据结构
   {
     module_details: [
       {name: "Screenshot...", attributes: {"敏捷加持": 8, "暴击专注": 5}},
       ...
     ]
   }
   ```

2. **检查后端日志**:
   ```
   识别到属性: {'agility_boost': 8, 'critical_focus': 5}
   ```

3. **强制刷新**:
   - Ctrl+F5 清除缓存
   - 或关闭浏览器重新打开

## 🐛 故障排除

### 问题1: 模组属性显示为空
- 检查OCR是否正确识别属性
- 确保截图包含清晰的属性文字

### 问题2: 前端显示异常
- 打开浏览器开发者工具（F12）
- 查看Console标签是否有错误
- 查看Network标签中API请求是否正常

### 问题3: Web服务器启动失败
```cmd
# 手动启动查看错误信息
PS D:\BPSR_M_OCR> python web_app.py
```

## 📋 测试清单

- [ ] 环境安装完成
- [ ] OCR能识别中文属性
- [ ] 数字识别正确（处理+9格式）
- [ ] 组合计算成功
- [ ] **模组详细信息正确显示**
- [ ] 属性名称显示为中文
- [ ] 结果筛选功能正常

## 📞 反馈信息

测试时请提供：
- 浏览器控制台截图（如有错误）
- 后端日志输出
- 具体的显示效果截图
